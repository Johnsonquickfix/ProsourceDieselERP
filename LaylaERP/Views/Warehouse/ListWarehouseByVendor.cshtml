
@{
    ViewBag.Title = "ListWarehouseByVendor";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Content/AdminLTE-3.1.0/datatables/DataTables-1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
<link href="~/Content/AdminLTE-3.1.0/datatables/Buttons-1.6.1/css/buttons.dataTables.min.css" rel="stylesheet" />
@*datatables js*@
<script src="~/Content/AdminLTE-3.1.0/datatables/datatables.min.js" type="text/javascript"></script>
<script src="~/Content/AdminLTE-3.1.0/datatables/DataTables-1.10.20/js/dataTables.bootstrap4.min.js" type="text/javascript"></script>

<div class="page-title">
    <h2 class="page-heading">Warehouse list to vendor</h2>
</div>
<div class="userrole_section section_wrapper appearance-menu-section">
    @*<form id="saveForm" name="saveForm" method="post" autocomplete="off">*@
    <div class="box box-primary">
        <div class="box-header">
            <table id="dtdata" class="inventory-table table-blue table check-table table-bordered table-striped dataTable " width="100%">
                <thead>
                    <tr>
                        <th>Vendor Name</th>
                        <th>Warehouse Name</th>
                        <th>Vendor Address</th>
                        <th>Vendor Phone</th>

                    </tr>
                </thead>
            </table>
            </div>
        </div>
    </div>
            <script>
                $(document).ready(function () {
                    WarehouseGrid();
                });
            </script>


            <script>
                function WarehouseGrid() {
                    var urid = parseInt($("#ddlSearchStatus").val());
                    var sid = "";
                    var obj = { user_status: urid, Search: sid, PageNo: 0, PageSize: 50, sEcho: 1, SortCol: 'id', SortDir: 'desc' };
                    $('#dtdata').DataTable({

                        columnDefs: [{ "orderable": false, "targets": 0 }], order: [[1, "desc"]],
                        destroy: true, bProcessing: true, bServerSide: true,
                        sPaginationType: "full_numbers", searching: true, ordering: true, lengthChange: true, "paging": true,
                        bAutoWidth: false, scrollX: false, scrollY: false,
                        lengthMenu: [[10, 20, 50], [10, 20, 50]],
                        sAjaxSource: "/Warehouse/GetWarehouseByVendor",
                        fnServerData: function (sSource, aoData, fnCallback, oSettings) {

                            obj.sEcho = aoData[0].value; obj.PageSize = oSettings._iDisplayLength; obj.PageNo = oSettings._iDisplayStart;
                            $.ajax({
                                type: "POST", url: sSource, async: true, contentType: "application/json; charset=utf-8", dataType: "json", data: JSON.stringify(obj),
                                success: function (data) {
                                    var dtOption = { sEcho: data.sEcho, recordsTotal: data.recordsTotal, recordsFiltered: data.recordsFiltered, iTotalRecords: data.iTotalRecords, iTotalDisplayRecords: data.iTotalDisplayRecords, aaData: JSON.parse(data.aaData) };
                                    return fnCallback(dtOption);
                                },
                                error: function (XMLHttpRequest, textStatus, errorThrown) { alert(errorThrown); },
                                async: false
                            });
                        },
                        aoColumns: [
                            { data: 'vname', title: 'Vendor Name' },
                            { data: 'wname', title: 'Warehouse Name' },
                            { data: 'Vaddress', title: 'Vendor Address' },
                            { data: 'phone', title: 'Vendor Phone' }
                        ]
                    });
                }
            </script>
