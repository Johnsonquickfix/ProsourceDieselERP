@model dynamic
@{
    var user = LaylaERP.UTILITIES.CommanUtilities.Provider.GetCurrent();
    ViewBag.Title = "Dashboard";
    //Layout = "~/Views/Shared/_Layout.cshtml";
    Layout = null;
}

<script src="~/Scripts/jquery.js" type="text/javascript"></script>
<script src="~/Scripts/passwordStrengthMeter.js" type="text/javascript"></script>
<link href="~/Content/css/Style.css" rel="stylesheet" />

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="~/Images/layla32.png">
    <title>Layla ERP - @ViewBag.Title</title>
    @*@Styles.Render("~/Content/css")
        @Scripts.Render("~/bundles/modernizr")*@
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <!-- Font Awesome -->
    <link href="~/Content/AdminLTE-3.1.0/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <!-- icheck bootstrap -->
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <!-- Theme style -->
    <link href="~/Content/AdminLTE-3.1.0/adminlte.min.css" rel="stylesheet" />
    <link href="~/Content/css/tabcss.css" rel="stylesheet" />
    <link href="~/Content/AdminLTE-3.1.0/_all-skins.min.css" rel="stylesheet" />
    <link href="~/Content/dx/dx.light.css" rel="stylesheet" />
    <link href="~/Content/alert/sweetalert2.min.css" rel="stylesheet" />
    <link href="~/Content/css/Style.css" rel="stylesheet" />
    <!-- Main Style -->
    <link href="~/css/indexStyle.css" rel="stylesheet" />
    <!-- jQuery -->
    <script src="~/Content/AdminLTE-3.1.0/jquery/jquery.min.js"></script>
    <script src="~/Content/alert/sweetalert2.all.min.js"></script>
    <script type="text/javascript">
        jQuery.browser = {};
        (function () {
            jQuery.browser.msie = false;
            jQuery.browser.version = 0;
            if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
                jQuery.browser.msie = true;
                jQuery.browser.version = RegExp.$1;
            }
        })();
    </script>
</head>
<body class="skin-blue layla-skin sidebar-mini fixed">
    <div class="wrapper" style="height: auto; min-height: 100%;">

        <header class="main-header">

            <!-- Logo -->
            <a href="/Home/Index" class="logo">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini"><img src="~/Images/layla32.png" /></span>
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg"><img src="~/Images/layla1-logo.png" /></span>
            </a>

            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top">
                <!-- Sidebar toggle button-->
                @*<a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                        <span class="sr-only">Toggle navigation</span>
                    </a>*@
                <a href="#" class="sidebar-toggle fa5" data-toggle="offcanvas" role="button">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <!-- Navbar Right Menu -->
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">
                        <!-- User Account: style can be found in dropdown.less -->
                        <li class="dropdown user user-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-user"></i>
                                <span class="hidden-xs">@(user.UserName)</span>
                            </a>
                            <ul class="dropdown-menu">
                                <!-- User image -->
                                <li class="user-header">
                                    @try
                                    {
                                        if (ViewBag.User_Image.Length > 0 && ViewBag.User_Image != null)
                                        {
                                            <img src="data:image;base64,@ViewBag.User_Image" class="img-circle" alt="User Image">
                                        }
                                        else
                                        {
                                            <img runat="server" src="~/Images/userprofile2.png" class="img-circle" alt="User Image">
                                        }
                                    }
                                    catch { }
                                    <p>
                                        @(user.UserName)
                                        <small>@(user.EmailID)</small>
                                    </p>
                                </li>
                                <!-- Menu Body -->
                                <li class="user-body">
                                    <!--<div class="row">
                                        <div class="col-xs-4 text-center">
                                            <a href="#">Followers</a>
                                        </div>
                                        <div class="col-xs-4 text-center">
                                            <a href="#">Sales</a>
                                        </div>
                                        <div class="col-xs-4 text-center">
                                            <a href="#">Friends</a>
                                        </div>
                                    </div>-->
                                    <!-- /.row -->
                                </li>
                                <!-- Menu Footer-->
                                <li class="user-footer">
                                    <div class="pull-left">
                                        @*<a href="/Users/UserProfile" class="btn btn-default btn-flat">Profile</a>*@
                                        <button type="button" id="btnuserprofile" class="btn btn-default btn-flat">Profile</button>

                                    </div>
                                    <div class="pull-right">
                                        <a href="#" id="btnExit" class="btn btn-default btn-flat">Sign out</a>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <!-- Control Sidebar Toggle Button -->
                        <li>
                            <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
                        </li>
                    </ul>
                </div>


            </nav>
        </header>

        <!-- Main Sidebar Container -->
        <aside class="main-sidebar">
            <!-- sidebar: style can be found in sidebar.less -->
            <section class="sidebar" style="height: auto;">
                <!-- Sidebar user panel -->
                <div class="user-panel">
                    <div class="pull-left image">
                        @try
                        {
                            if (ViewBag.User_Image.Length > 0 && ViewBag.User_Image != null)
                            {
                                <img runat="server" id="show_Profile_image" class="img-circle" src="data:image;base64,@ViewBag.User_Image" alt="User Image">
                            }
                            else
                            {
                                <img runat="server" src="~/Images/userprofile2.png" class="img-circle" alt="User Image">
                            }
                        }
                        catch { }
                    </div>
                    <div class="pull-left info">
                        <p>@(user.UserName)</p>
                        <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
                    </div>
                </div>
                <!-- search form -->
                <form action="#" method="get" class="sidebar-form">
                    <div class="input-group">
                        <!--<input type="text" name="q" class="form-control" readonly placeholder="Search...">-->

                        <span class="input-group-btn">

                            <button type="button" id="btnsearch" name="search" class="btn btn-flat" style="width:100%;">
                                <span style="float:left;">Search...</span>
                                <i class="fa fa-search" style="float:right;"></i>
                            </button>
                            @*<button type="submit" name="search" id="search-btn" class="btn btn-flat">
                                    <i class="fa fa-search"></i>
                                </button>*@
                        </span>
                    </div>
                </form>
                <!-- /.search form -->
                <!-- sidebar menu: : style can be found in sidebar.less -->
                <ul class="sidebar-menu tree" data-widget="tree">
                </ul>
                @*<ul class="sidebar-menu tree" data-widget="tree">
                        <li class="header">MAIN NAVIGATION</li>
                    </ul>*@
            </section>
            <!-- /.sidebar -->
        </aside>

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper" id="content-wrapper" style="min-height: 421px;">
            <!--Bootstrap tab style multi-tab page-->
            <div class="content-tabs">
                <button id="leftTabScroll" class="roll-nav roll-left tabLeft" onclick="javascript:scrollTabLeft()">
                    <i class="fa fa-backward"></i>
                </button>
                <nav class="page-tabs menuTabs tab-ui-menu" id="tab-menu">
                    <div class="page-tabs-content" style="margin-left: 0px;">
                    </div>
                </nav>
                <button id="rightTabScroll" class="roll-nav roll-right tabRight" onclick="javascript:scrollTabRight()">
                    <i class="fa fa-forward" style="margin-left: 3px;"></i>
                </button>
                <div class="btn-group roll-nav roll-right">
                    <button class="dropdown tabClose" data-toggle="dropdown">
                        Operation<i class="fa fa-caret-down" style="padding-left: 0px;"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right" style="min-width: 128px;">
                        <li><a class="tabReload" href="javascript:refreshTab();">Refresh current</a></li>
                        <li><a class="tabCloseCurrent" href="javascript:closeCurrentTab();">Close current</a></li>
                        <li><a class="tabCloseAll" href="javascript:closeOtherTabs(true);">Close all</a></li>
                        <li><a class="tabCloseOther" href="javascript:closeOtherTabs();">All except this</a></li>
                    </ul>
                </div>
                <button id="fullScreen" class="roll-nav roll-right fullscreen" onclick="App.handleFullScreen()">
                    <i class="fa fa-arrows-alt"></i>
                </button>
            </div>
            <div class="content-iframe " style="background-color: #ffffff;">
                <div class="tab-content " id="tab-content">
                    <input type="hidden" id="hfid" name="hfid" value="@ViewBag.id" />
                    <input type="hidden" id="hfState" value="@ViewBag.State" />
                </div>
            </div>
        </div>
        <!-- /.content-wrapper -->
        <footer class="main-footer">
            <div class="pull-right hidden-xs">
                <b>Version</b> 1.0.1
            </div>
            Layla © Copyright 2021. All rights reserved. More Than a Mattress in a Box
        </footer>
        <div class="modal in printable autoprint" id="resetpassword" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div>
        <div class="modal in printable autoprint" id="userprofile" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div>
        <div class="modal in printable autoprint" id="searchbar" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div>
    </div>


    <!-- Bootstrap 4 -->
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Content/AdminLTE-3.1.0/fastclick.js"></script>
    <!-- AdminLTE App -->
    <script src="~/Content/AdminLTE-3.1.0/adminlte.min.js"></script>
    <script src="~/js/app.js?v=1"></script>
    <script src="~/Content/dx/dx.all.js"></script>
    <script src="~/Content/AdminLTE-3.1.0/select2/select2.min.js"></script>
    <link href="~/Content/AdminLTE-3.1.0/select2/select2.min.css" rel="stylesheet" />

    <script>
        var GetUserID = parseInt('@(user.UserID)') || 0;
        $(document).ready(function () {
            localStorage.setItem('isEdit', 'no');
            setTimeout(function () {
                //addTabs({ id: '10008', title: '', close: false, url: '/home/Dashboard', urlType: "none" });
                addTabs({ id: '1', title: '', close: false, url: '/home/Dashboard', urlType: "none" });
                App.fixIframeCotent();
            }, 100);
            setTimeout(function () { filluserMenu(); }, 50); // wait 50ms until menu load finishes.

           // GetUsers();

            $(document).on('click', '#btnExit', function () {top.window.location.href = top.window.location.origin + '/Home/Login';});
            $(document).on("click", "#btnuserprofile", function (t) {
                t.preventDefault();
                ProfileModal();
            });
            $(document).on("click", "#btnsearch", function (t) {t.preventDefault(); SearchbarModal();});

            $('#userprofile').on('shown.bs.modal', function () {
                $('#txtState').select2({
                    //dropdownParent: $('#userprofile'),
                    //allowClear: true, minimumInputLength: 3, placeholder: "Search State",
                    //ajax: {
                    //    url: '/Users/GetState', type: "POST", contentType: "application/json; charset=utf-8", dataType: 'json', delay: 250,
                    //    data: function (params) { var obj = { strValue1: params.term }; return JSON.stringify(obj); },
                    //    processResults: function (data) { var jobj = JSON.parse(data); return { results: $.map(jobj, function (item) { return { text: item.StateFullName, name: item.StateFullName, id: item.StateFullName } }) }; },
                    //    error: function (xhr, status, err) { }, cache: true
                    //}

                    allowClear: true, minimumInputLength: 2, placeholder: "Search State",
                    ajax: {
                        url: '/Users/GetCustState', type: "POST", contentType: "application/json; charset=utf-8", dataType: 'json', delay: 250,
                        data: function (params) {
                            var obj = { strValue1: params.term, strValue2: $("#txtCountry").val() };
                            return JSON.stringify(obj);
                        },
                        processResults: function (data) {
                            var jobj = JSON.parse(data);
                            console.log(jobj);
                            return {
                                results: $.map(jobj, function (item) {
                                    return { text: item.StateFullName, name: item.StateFullName, id: item.StateFullName }
                                })
                            };
                        },
                        error: function (xhr, status, err) { }, cache: true
                    }
                });
            });

            //$('#userprofile').on('shown.bs.modal', function () {
            //    $("#txtCity").select2({
            //        allowClear: true, minimumInputLength: 3, placeholder: "Search City",
            //        ajax: {
            //            url: '/Users/GetCity', type: "POST", contentType: "application/json; charset=utf-8", dataType: 'json', delay: 250,
            //            data: function (params) { var obj = { strValue1: params.term }; return JSON.stringify(obj); },
            //            processResults: function (data) { var jobj = JSON.parse(data); return { results: $.map(jobj, function (item) { return { text: item.City, name: item.City, id: item.City } }) }; },
            //            error: function (xhr, status, err) { }, cache: true
            //        }
            //    });
            //});
            $("#userprofile").on("keyup", "#txtPhone", function (evt) {
                var phoneNumber = document.getElementById('txtPhone');
                var charCode = (evt.which) ? evt.which : evt.keyCode;
                phoneNumber.value = phoneFormat(phoneNumber.value);
            });

            function phoneFormat(input) {
                input = input.replace(/\D/g, '');
                input = input.substring(0, 10);
                var size = input.length;
                if (size == 0) {
                    input = input;
                } else if (size < 4) {
                    input = '(' + input;
                } else if (size < 7) {
                    input = '(' + input.substring(0, 3) + ') ' + input.substring(3, 6);
                } else {
                    input = '(' + input.substring(0, 3) + ') ' + input.substring(3, 6) + ' - ' + input.substring(6, 10);
                }
                return input;
            }


                //$("#State").append("<option>" + $("#hfState").val()+ "</option>");


        });
        function filluserMenu() {
            var obj = { userId: GetUserID };
            jQuery.ajax({
                url: '/AccountAPI/getMenus', dataType: 'json', type: "Post",
                beforeSend: function () {
                    //$("#loading-div-background").show();
                },
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(obj),
                success: function (data) {$('.sidebar-menu').sidebarMenu({ data: data });},
                error: function (jqXHR, textStatus, errorThrown) { swal('Error!', errorThrown, "error");}
            });
        }
        ///Add Modal Profile
        function ProfileModal() {
            var myHtml = '';
            //header
            myHtml += `
<div id="loader" class="d-flex align-items-center">
    <img src="data:image/gif;base64,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" align="">
    <span>&nbsp;&nbsp;Loading......</span>
</div>
<div class="modal-dialog profile-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
            <div class="page-title">
                <h2 class="page-heading">User Profile</h2>
            </div>
        </div>
        <div class="modal-body">
            <div class="createuser-section section_wrapper">
                <div class="create-user-box">
                    <div class="row">
                        <div class="col-md-3">

                            <!-- Profile Image -->
                            <div class="box box-primary">
                                <div class="box-body box-profile">
                                    <div class="user-box-profile">
                                        <div class="add-profile">
                                            <span class="edit-pic-profile">
                                                <input type="file" onchange="readURL(this);" name="file" id="file" class="inputfile" />
                                                <label id="btnPhotoLibrary" for="file"><i class="fa fa-edit"></i>Edit</label>
                                            </span>
                                            @try
                                            {
                                                if (ViewBag.User_Image.Length > 0 && ViewBag.User_Image != null)
                                                {
                                            <img runat="server" id="show_picture" class="profile-user-img img-responsive img-circle" src="data:image;base64,@ViewBag.User_Image" alt="User profile picture">
                                                }
                                                else
                                                {
                                            <img runat="server" id="show_picture" class="profile-user-img img-responsive img-circle" src="~/Images/userprofile2.png" alt="User profile picture">
                                                }
                                            }
                                            catch { }
                                            <canvas style="visibility: hidden" id="canvas" width="50" height="50"></canvas>
                                            <input runat="server" type="hidden" id="hidimage" /><input type="hidden" id="hidimagetype" />
                                            <input type="hidden" id="hfzipstatus" />
                                        </div>
                                    </div>
                                </div>
                                <!-- /.box-body -->
                            </div>
                        </div>
                        <!-- /.col -->
                        <div class="col-md-9">
                            <div class="box box-primary create-user-primary">
                                <div class="box-header with-border">
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">User Name<span style="color:red;"> *</span></label>
                                            <input type="text" id="txtUserNickName" class="form-control" placeholder="Enter User Name" value="@ViewBag.user_login" readonly>

                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">E-mail<span style="color:red;"> *</span></label>
                                            <input type="text" id="txtUserEmail" class="form-control" placeholder="Enter Your Mail Address" value=@ViewBag.user_email readonly>


                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">First Name<span style="color:red;"> *</span></label>
                                            <input type="text" id="txtFirstName" class="form-control" placeholder="First Name" value=@ViewBag.first_name>


                                        </div>
                                        <div class="form-group">

                                            <label for="exampleInputEmail1">Last Name<span style="color:red;"> *</span></label>
                                            <input type="text" id="txtLastName" class="form-control" placeholder="Last Name" value=@ViewBag.last_name>

                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">User Status</label>
                                            <input type="text" class="form-control" value="Active" id="user_status" placeholder="User Status" readonly>

                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">User Type<span style="color:red;"> *</span></label>
                                            <input type="text" class="form-control" id="txtUserRole" placeholder="User Role" value="" readonly>

                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Contact Number<span style="color:red;"> *</span></label>
                                            <input type="text" class="form-control" id="txtPhone"  value="@ViewBag.user_phone" placeholder="Enter Your Phone Number">
                                        </div>


                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Address<span style="color:red;"> *</span></label>
                                            <input id="txtAddress" class="form-control" placeholder="Enter Your Address" value="@ViewBag.user_address"></input>
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Address Line 2</label>
                                            <input type="text" class="form-control" id="txtAddress2" value="@ViewBag.address2" placeholder="Address Line 2">

                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">City<span style="color:red;"> *</span></label>
                                            @*<select id="txtCity" class="form-control select2">
                                                <option selected value="@ViewBag.City">@ViewBag.City </option>
                                            </select>*@
                                            <input type="text" class="form-control" id="txtCity" value="@ViewBag.City" placeholder="City">


                                        </div> </div>
                                    <div class="col-sm-4">

                                        <div class="form-group">
                                            <label for="exampleInputEmail1">State<span style="color:red;"> *</span></label>
                                            <select class="form-control select2" id="txtState">
                                                <option selected value="@ViewBag.State">@ViewBag.State </option>

                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label" for="Post/Zip Code">Post/Zip Code<span style="color:red;"> *</span></label>
                                            <div class="">
                                                <input type="text" id="txtPostCode" value="@ViewBag.postcode" class="form-control" placeholder="Post/Zip Code">
                                            </div>
                                        </div>


                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Country<span style="color:red;"> *</span></label>
                                            <select class="form-control" id="txtCountry">
                                                @if (ViewBag.country == "US")
                                                {
                                                <option selected value="US">US - United States</option>
                                                <option value="CA">CA - Canada</option>
                                                }
                                                @if (ViewBag.country == "CA")
                                                {
                                                <option selected value="CA">CA - Canada</option>
                                                <option value="US">US - United States</option>
                                                }
                                                @if (ViewBag.country == "")
                                                {
                                                <option selected value="US">US - United States</option>
                                                <option value="CA">CA - Canada</option>
                                                }

                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-footer">
                                    <div class="text-right">
                                        <span class="pop-btn"><a href="#" class="btn btn-danger" id="btnSave"><b>Update Profile</b></a>
                                        </span><span class="pop-btn"><a href="#" class="btn btn-danger" id="btnreset"><b>Reset Password</b></a></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.nav-tabs-custom -->
                    </div>
                    <!-- /.col -->
                </div>
            </div>
        </div>
    </div >
</div>` ;
            $("#userprofile").empty().html(myHtml);
            $("#userprofile").modal({ backdrop: 'static' }); $("#txtUserNickName").focus();

                $(document).ready(function () {
                     var string = '@ViewBag.user_role';
                var uniqueList = string.split(',').filter(function (item, i, allItems) {
                return i == allItems.indexOf(item);
                }).join(',');
                $("#txtUserRole").val(uniqueList);

                });

        }
        function SearchbarModal() {
            var myHtml = '';
            //header
            myHtml += '<div class="modal-dialog profile-dialog search-box-indy">';
            myHtml += '<div class="modal-content">';
            myHtml += '<div class="modal-header">';
            myHtml += '<button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>';
            myHtml += '<div class="page-title"><h2 class="page-heading">Search bar</h2></div>';
            myHtml += '</div>';
            myHtml += '<div class="modal-body">';
            myHtml += '<div class="createuser-section section_wrapper">';
            myHtml += '<div class="create-user-box">';
            myHtml += '<div class="row">';
            myHtml += '<div class="col-md-12">';
            myHtml += '<div class="box box-primary create-user-primary">';
            myHtml += '<div class="box-header with-border">';
            myHtml += '<div class="col-sm-12">';
            myHtml += '<div class="input-group">';
            myHtml += '<input type="text" id="txtsearch" name="q" class="form-control" placeholder="Search...">';
            myHtml += '<span class="input-group-btn"><button type="button" id="btnsearchbar" name="search" class="btn btn-flat"><i class="fa fa-search"></i></button></span>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '<div class="box-header with-border">';
            myHtml += '<form id="saveForm" method="post">';
            myHtml += '<div class="col-sm-4">';
            myHtml += '<div class="form-group">';
            myHtml += '<input type="hidden" value="@ViewBag.Type"  id="hfrbtvalue" />';
            myHtml += '<input id="strValue1" checked="checked" name="strValue1" type="radio" value="users" /><label for="strValue1">USRES</label>';
            myHtml += '</div>';
            myHtml += '<div class="form-group"><div id="contentuser"><table id="tblUsers" class="table-indy"><tbody><tr><td>No data</td></tr></tbody></table></div></div>';
            myHtml += '</div>';

            myHtml += '<div class="col-sm-4">';
            myHtml += '<div class="form-group">';
            myHtml += '<input id="strValue2" name="strValue1" type="radio" value="customers" /><label for="strValue2">CUSTOMERS</label>';
            myHtml += '</div>';
            myHtml += '<div class="form-group"><div id="contentcus"><table id="tblCustomer" class="table-indy"><tbody><tr><td>No data</td></tr></tbody></table></div></div>';
            myHtml += '</div>';

            myHtml += '<div class="col-sm-4">';
            myHtml += '<div class="form-group">';
            myHtml += '<input id="strValue3" name="strValue1" type="radio" value="orders" /><label for="strValue3">ORDERS</label>';
            myHtml += '</div>';
            myHtml += '<div class="form-group"><div id="contentorder"><table id="tblorder" class="table-indy"><tbody><tr><td>No data</td></tr></tbody></table></div></div>';
            myHtml += '</div>';

            myHtml += '</form>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '</div>';
            myHtml += '</div>';
            $("#searchbar").empty().html(myHtml);
            $("#searchbar").modal({ backdrop: 'static' }); $("#btnsearchbar").focus();
            SearchbarBinding('all', '');
        }
        function SearchbarBinding(serchOn,seachValue) {
            var myHtml = '';
            var obj = { strValue1: serchOn, strValue2: seachValue };
            $.ajax({
                url: '/Home/GetUsersDetails', type: 'POST', contentType: "application/json; charset=utf-8",dataType: 'JSON',
                data: JSON.stringify(obj),
                success: function (result) {
                    result = JSON.parse(result);
                    if (serchOn == 'all') {
                        myHtml = result['Table'].length > 0 ? '' : '<tr><td>No data</td></tr>';
                        for (var i = 0; i < result['Table'].length; i++) {
                            myHtml += '<tr>';
                            myHtml += '<td> <img src="/Images/userprofile2.png" width="25" height="25" class=""></td>';
                            myHtml += '<td><h5>' + result['Table'][i].user_login + '</h5>' + result['Table'][i].user_email + '<a id="auser" href="javascript:void(0);" onclick="addTabs({id:\'3\',title:\'User Management\',close: true,url: \'/Users/Users?name=' + result['Table'][i].id + '\',urlType:\'none\'});App.fixIframeCotent();findIframeById(3).attr(\'src\', \'/Users/Users?name=' + result['Table'][i].id + '\');refreshTab();"><i class="glyphicon glyphicon-eye-open"></i></a></td>';
                            myHtml += '</tr>';
                        }
                        $("#tblUsers tbody").empty().append(myHtml);

                        myHtml = result['Table1'].length > 0 ? '' : '<tr><td>No data</td></tr>';
                        for (var i = 0; i < result['Table1'].length; i++) {
                            myHtml += '<tr>';
                            myHtml += '<td> <img src="/Images/Customer.png" width="25" height="25" class=""></td>';
                            myHtml += '<td><h5>' + result['Table1'][i].user_login + '</h5>' + result['Table1'][i].user_email + '<a id="auser" href="javascript:void(0);" onclick="addTabs({id:\'16\',title: \'Manage Customer\',close: true,url: \'/Customer/Customer?name=' + result['Table1'][i].user_email + '\',urlType:\'none\'});App.fixIframeCotent();findIframeById(16).attr(\'src\', \'/Customer/Customer?name=' + result['Table1'][i].user_email + '\');refreshTab();"><i class="glyphicon glyphicon-eye-open"></i></a></td>';
                            myHtml += '</tr>';
                        }
                        $("#tblCustomer tbody").empty().append(myHtml);

                        myHtml = result['Table2'].length > 0 ? '' : '<tr><td>No data</td></tr>';
                        for (var i = 0; i < result['Table2'].length; i++) {
                            myHtml += '<tr>';
                            myHtml += '<td> <img src="/Images/order.png" width="25" height="25" class=""></td>';
                            myHtml += '<td><h5>' + result['Table2'][i].id + '</h5>' + result['Table2'][i].post_date + '<a id="auser" href="javascript:void(0);" onclick="addTabs({id:\'8\',title: \'Orders History\',close: true,url: \'/Orders/OrdersHistory?name=' + result['Table2'][i].id + '\',urlType:\'none\'});App.fixIframeCotent();findIframeById(8).attr(\'src\', \'/Orders/OrdersHistory?name=' + result['Table2'][i].id + '\');refreshTab();"><i class="glyphicon glyphicon-eye-open"></i></a></td>';
                            myHtml += '</tr>';
                        }
                        $("#tblorder tbody").empty().append(myHtml);
                    }
                    else if (serchOn == 'users') {
                        myHtml = result['Table'].length > 0 ? '' :'<tr><td>No data</td></tr>';
                        for (var i = 0; i < result['Table'].length; i++) {
                            myHtml += '<tr>';
                            myHtml += '<td> <img src="/Images/userprofile2.png" width="25" height="25" class=""></td>';
                            myHtml += '<td><h5>' + result['Table'][i].user_login + '</h5>' + result['Table'][i].user_email + '<a id="auser" href="javascript:void(0);" onclick="addTabs({id:\'3\',title:\'User Management\',close: true,url: \'/Users/Users?name=' + result['Table'][i].id + '\',urlType:\'none\'});App.fixIframeCotent();findIframeById(3).attr(\'src\', \'/Users/Users?name=' + result['Table'][i].id + '\');refreshTab();"><i class="glyphicon glyphicon-eye-open"></i></a></td>';
                            myHtml += '</tr>';
                        }
                        $("#tblUsers tbody").empty().append(myHtml);
                    }
                    else if (serchOn == 'customers') {
                        myHtml = result['Table'].length > 0 ? '' : '<tr><td>No data</td></tr>';
                        for (var i = 0; i < result['Table'].length; i++) {
                            myHtml += '<tr>';
                            myHtml += '<td> <img src="/Images/Customer.png" width="25" height="25" class=""></td>';
                            myHtml += '<td><h5>' + result['Table'][i].user_login + '</h5>' + result['Table'][i].user_email + '<a id="auser" href="javascript:void(0);" onclick="addTabs({id:\'16\',title: \'Manage Customer\',close: true,url: \'/Customer/Customer?name=' + result['Table'][i].user_email + '\',urlType:\'none\'});App.fixIframeCotent();findIframeById(16).attr(\'src\', \'/Customer/Customer?name=' + result['Table'][i].user_email + '\');refreshTab();"><i class="glyphicon glyphicon-eye-open"></i></a></td>';
                            myHtml += '</tr>';
                        }
                        $("#tblCustomer tbody").empty().append(myHtml);
                    }
                    else if (serchOn == 'orders') {
                        myHtml = result['Table'].length > 0 ? '' : '<tr><td>No data</td></tr>';
                        for (var i = 0; i < result['Table'].length; i++) {
                            myHtml += '<tr>';
                            myHtml += '<td> <img src="/Images/order.png" width="25" height="25" class=""></td>';
                            myHtml += '<td><h5>' + result['Table'][i].id + '</h5>' + result['Table'][i].post_date + '<a id="auser" href="javascript:void(0);" onclick="addTabs({id:\'8\',title: \'Orders History\',close: true,url: \'/Orders/OrdersHistory?name=?name=' + result['Table'][i].id + '\',urlType:\'none\'});App.fixIframeCotent();findIframeById(8).attr(\'src\', \'/Orders/OrdersHistory?name=' + result['Table'][i].id + '\');refreshTab();"><i class="glyphicon glyphicon-eye-open"></i></a></td>';
                            myHtml += '</tr>';
                        }
                        $("#tblorder tbody").empty().append(myHtml);
                    }
                },
                error: function (msg) { console.log(msg); }
            });
        }
        function openOrderPage(order_type) {
            addTabs({ id: '8', title: 'Orders History', close: true, url: '/Orders/OrdersHistory' + (order_type.length > 0 ? '?type=' + order_type : '?v=1.0.0'), urlType: 'none' });
            App.fixIframeCotent();
        }

        function openCustomerPage(customer_type) {
            addTabs({ id: '16', title: 'Manage Customers', close: true, url: '/Customer/Customer', urlType: 'none' });
            App.fixIframeCotent();
        }
    </script>
    <script>
    $(document).ready(function () {
            $("#loader").hide();
            $(document).on('click', "#btnSave", function () {
                UpdateProfile();
            })
            $("#btnPhotoLibrary").click(function () {
                $("#hidimage").val('');
                $("#hidimagetype").val('2');
            });

            $(document).on("click", "#btnreset", function (t) {
                //$("#userprofile").modal("hide");
                t.preventDefault(); ResetPasswordModal();
            });

            $(document).on('click', "#auser", function () {
                $('#searchbar').modal('hide');
            });
            $(document).on('click', "#acustomer", function () {
                    $('#searchbar').modal('hide');
            });
            $(document).on('click', "#aorder", function () {
                $('#searchbar').modal('hide');
            });
            $(document).on('click', "#btnsearchbar", function () {
                var checkid = $("input[name='strValue1']:checked").val();
                var search = $("#txtsearch").val();
                SearchbarBinding(checkid, search);
            });

            const urlParams = new URLSearchParams(window.location.search);
            //let str = urlParams;
            //var find = str.includes("strValue1");
            //alert(find); alert(@ViewBag.Type);
            //var incStr = urlParams.includes("strValue1", 0);
            //alert(incStr);
            if (urlParams != "") {
               // $("input[name='strValue1']:checked").val("@ViewBag.Type");


                $("#btnsearch").click();
                if ("@ViewBag.Type" == "users" )
                $("#strValue1").prop('checked', true);
               else if ("@ViewBag.Type" == "customers" )
                    $("#strValue2").prop('checked', true);
                else
                    $("#strValue3").prop('checked', true);

            }

    });

        function loadData() {
            $("#tblCustomer tbody").empty();
             var checkid = $("input[name='strValue1']:checked").val();
             var search = $("#txtsearch").val();
             var obj = {
                 strValue1: checkid,
                 strValue2: search
             };
             $.ajax({
                 url: '/Home/Index',
                 type: 'post',
                 contentType: "application/json; charset=utf-8",
                 dataType: 'JSON',
                 data: JSON.stringify(obj),
                 success: function () {
                    // $("#tblUsers").load("/Home/GetUsersDetails");
                     alert("first");
                     $("#tblCustomer").load();
                     alert("last");
                    // $("#theTable").load("/Home/GetUsersDetails");
                 },
                 error: function (msg) { console.log(msg); }
             });

        }

        $("#userprofile").on("change", "#txtPostCode", function (t) {

            console.log($("#txtCountry").val());
            if ($("#txtCountry").val() == "US" ) {
                City = $("#txtCity").val();
                State = $("#txtState").val();
                PostalCode = $("#txtPostCode").val();
                var obj = {
                    billing_state: State,
                    billing_city: City,
                    billing_postcode: PostalCode
                }
                $.ajax({
                    url: '/Users/CityStateZip/', dataType: 'json', type: 'Post',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(obj),
                    dataType: "json",
                    success: function (data) {
                        if (data.status == true) {
                            $('#hfzipstatus').val(data.status);
                        }
                        else {
                            $("#txtPostCode").val("");
                            $('#hfzipstatus').val(data.status);
                            swal('Alert', 'Post/Zip code is not valid for state', 'error').then(function () { swal.close(); $('#txtPostCode').focus(); });
                        }
                    },

                    error: function (error) {
                        swal('Error!', 'something went wrong', 'error');
                    },
                })
            }
        });


        $("#userprofile").on("change", "#txtState", function (t) {

            console.log($("#txtCountry").val());
            if ($("#txtCountry").val() == "US" && $("#txtPostCode").val() != '') {
                City = $("#txtCity").val();
                State = $("#txtState").val();
                PostalCode = $("#txtPostCode").val();
                var obj = {
                    billing_state: State,
                    billing_city: City,
                    billing_postcode: PostalCode
                }
                $.ajax({
                    url: '/Users/CityStateZip/', dataType: 'json', type: 'Post',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(obj),
                    dataType: "json",
                    success: function (data) {
                        if (data.status == true) {
                            $('#hfzipstatus').val(data.status);
                        }
                        else {
                            $("#txtPostCode").val("");
                            $('#hfzipstatus').val(data.status);
                            swal('Alert', 'Post/Zip code is not valid for state', 'error').then(function () { swal.close(); $('#txtPostCode').focus(); });
                        }
                    },

                    error: function (error) {
                        swal('Error!', 'something went wrong', 'error');
                    },
                })
            }
        });

        $("#userprofile").on("change", "#txtCountry", function (t) {
            $('#txtAddress').val("");
            $("#txtAddress2").val("");
            $("#txtCity").val("");
            $("#txtPostCode").val("");
            $("#txtState").val(null).trigger('change');
        });

        function UpdateProfile() {
            var ImageURL;
            var canvas = document.createElement('canvas');
            var objimg = document.getElementById('show_picture');
            canvas.width = objimg.width;
            canvas.height = objimg.height;
            var ctx = canvas.getContext('2d').drawImage(objimg, 0, 0, canvas.width, canvas.height);
            var can = document.getElementById('canvas');
            ImageType = "jpeg";
            var img = canvas.toDataURL("image/jpeg", 30 / 100);
            var result_image_obj = new Image();
            result_image_obj.src = img;
            $("#show_picture").attr("src", result_image_obj.src);
            ImageURL = result_image_obj.src;
            var block = ImageURL.split(";");
            var realData = block[1].split(",")[1];
            $("#hidimage").val(realData);
            Picture = $("#hidimage").val();

            Picture = $("#hidimage").val();
            ID = $("#hfid").val();
            Email = $("#txtUserEmail").val();
            NickName = $("#txtUserNickName").val();
            FirstName = $("#txtFirstName").val();
            LastName = $("#txtLastName").val();
            address = $("#txtAddress").val();
            country = $("#txtCountry").val();
            UserRole = $("#txtUserRole").val();
            Phone = $("#txtPhone").val();
            Zipcode = $("#txtPostCode").val();
            City = $("#txtCity").val();
            State = $("#txtState").val();
            address2 = $("#txtAddress2").val();
            if (address2 == '')
                address2 = '';

            if (NickName == "") {
                swal('Alert', 'Please enter user name', 'error').then(function () { swal.close(); $('#txtUserNickName').focus(); });
            }
            else if (Email == "") {
                swal('Alert', 'Please enter email', 'error').then(function () { swal.close(); $('#txtUserEmail').focus(); });
            }
            else if (FirstName == "") {
                swal('Alert', 'Please enter first name', 'error').then(function () { swal.close(); $('#txtFirstName').focus(); });
            }
            else if (LastName == "") {
                swal('Alert', 'Please enter last name', 'error').then(function () { swal.close(); $('#txtLastName').focus(); });
            }
            else if ($('#txtUserRole').val() == 0) {
                swal('Alert', 'Please select user type', 'error').then(function () { swal.close(); $('#txtUserRole').focus(); });
            }
            else if (Phone == "") {
                swal('Alert', 'Please enter contact no.', 'error').then(function () { swal.close(); $('#txtPhone').focus(); });
            }
            else if (address == "") {
                swal('Alert', 'Please enter address ', 'error').then(function () { swal.close(); $('#txtAddress').focus(); });
            }

            else if ($('#txtCity').val() == 0) {
                swal('Alert', 'Please select city', 'error').then(function () { swal.close(); $('#txtCity').focus(); });
            }
            else if ($('#txtState').val() == 0) {
                swal('Alert', 'Please select state', 'error').then(function () { swal.close(); $('#txtState').focus(); });
            }
            else if (Zipcode == "") {
                swal('Alert', 'Please enter post/zip code', 'error').then(function () { swal.close(); $('#txtPostCode').focus(); });
            }
            else if ($('#txtCountry').val() == 0) {
                swal('Alert', 'Please select country', 'error').then(function () { swal.close(); $('#txtCountry').focus(); });
            }


            else {
               // $("#userprofile").on("change", "#txtPostCode", function (t) 
                $("#txtPostCode").change();
                if ($("#hfzipstatus").val() == "true") {
                    var obj = {
                        ID: ID,
                        user_email: Email,
                        user_nicename: NickName,
                        first_name: FirstName,
                        last_name: LastName,
                        address: address,
                        country: country,
                        phone: Phone,
                        user_role: UserRole,
                        User_Image: Picture,
                        billing_postcode: Zipcode,
                        billing_state: State,
                        billing_city: City,
                        billing_address_2: address2
                    }
                    $.ajax({
                        url: '/Home/Update_UserProfile/', dataType: 'json', type: 'Post',
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify(obj),
                        dataType: "json",
                        beforeSend: function () { $("#loader").show(); },
                        success: function (data) {
                            if (data.status == true) {
                                //swal('Success!', data.message, 'success');
                                swal('Success!', data.message, 'success').then((result) => { top.window.location.href = top.window.location.origin + '/Home/Login'; });
                                //$("#userprofile").modal("hide");
                            }
                            else {
                                swal('Alert!', data.message, 'error')
                            }
                        },
                        complete: function () { $("#loader").hide(); },
                        error: function (error) {
                            swal('Error!', 'something went wrong', 'error');
                        },
                    })
                }
            }
        }

        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#show_picture').attr('src', e.target.result);
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function ResetPasswordModal() {
            var myHtml = '';
            //header
            myHtml += `
<div class="modal-dialog profile-dialog reset-password-model">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
                <div class="page-title">
                    <h2 class="page-heading">Reset Password</h2>
                </div>
            </div>
            <div class="modal-body">
                <div class="createuser-section section_wrapper">
                    <div class="create-user-box">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="box box-primary create-user-primary">
                                    <div class="box-header with-border">

                                        <div class="">
                                            <div class="form-group">
                                                <label for="exampleInputEmail1">New Password</label>
                                                <button type="button" id="btnGeneratePassword" class="btn" >Generate Password</button>
                                                <input type="password" class="form-control" id="txtPassword" placeholder="Enter Your Password">
                                                <span class="" id='result'></span>
                                            </div>
                                            <div class="form-group">
                                                <label for="exampleInputEmail1">Confirm Password</label>
                                                <i id="PasswordShow" class="glyphicon glyphicon-eye-open"></i>
                                                <input type="password" class="form-control" id="txtConfirmPassword" placeholder="Confirm Your Password">
                                                <span class="" id="message"></span>
                                            </div>
                                            <div class="form-group">

                                            </div>
                                            <div class="form-group">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="box-footer text-right">
                                        <span class="pop-btn"><a href="#" class="btn btn-danger" id="btnupdate"><b>Update Password</b></a>
                                        </span>
                                    </div>
                                </div>
                                <!-- /.nav-tabs-custom -->
                            </div>
                            <!-- /.col -->
                        </div>
                    </div>
                </div>
            </div >
        </div>
</div>`
                ;

            $("#resetpassword").empty().html(myHtml);
            $("#resetpassword").modal({ backdrop: 'static' }); $("#txtUserEmail").focus();
        }
    </script>

    <script>

        $(document).ready(function () {
            $(document).on('click', "#btnupdate", function () {
                ResetPassword();
            })
            $(document).on('click', "#PasswordShow", function () {
                if ($('#txtPassword').val() == "")
                    swal('Alert', 'Password is not zenrated', 'error');
                else
                    swal('Alert', 'Password is ' + $('#txtPassword').val() + '', 'success');

            })
            $(document).on('click', "#btnGeneratePassword", function () {
                Password = $("#txtPassword").val();
                var obj = {
                    password: Password,
                }
                $.ajax({
                    url: '/Users/CreatePassword/', dataType: 'json', type: 'Post',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(obj),
                    dataType: "json",
                    success: function (data) {
                        if (data.status == true) {
                            $('#txtPassword').val(data.message);
                            $('#txtConfirmPassword').val(data.message);
                            $("#txtPassword").change();
                        }
                        else {
                            $("#txtPassword").val("");
                            $("#txtConfirmPassword").val("");
                            //swal('Alert', 'Post zip code is not  valid for City and State', 'error').then(function () {swal.close(); $('#txtPostCode').focus(); });
                        }
                    },

                    error: function (error) {
                        swal('Error!', 'something went wrong', 'error');
                    },
                })
            });
            passwordcheck();
        });


        $("#resetpassword").on("change", "#txtPassword", function (t) {
            $('#result').html(passwordStrength($('#txtPassword').val(), ""))
            result = $('#result').html();
            if (result == "Password strength is weak") {
                $('#result').attr({ 'style': 'color:Red;' });
            }
            if (result == "Password Strength is low") {
                $('#result').attr({ 'style': 'color:Olive;' });
            }
            if (result == "Password strength is medium") {
                $('#result').attr({ 'style': 'color:Lime;' });
            }
            if (result == "Password strength is strong") {
                $('#result').attr({ 'style': 'color:Green;' });
            }
        })
        $("#resetpassword").on("input", "#txtPassword", function (t) {
            $('#result').html(passwordStrength($('#txtPassword').val(), ""))
            result = $('#result').html();
            if (result == "Password strength is weak") {
                $('#result').attr({ 'style': 'color:Red;' });

            }
            if (result == "Password Strength is low") {
                $('#result').attr({ 'style': 'color:Olive;' });
            }
            if (result == "Password strength is medium") {
                $('#result').attr({ 'style': 'color:Lime;' });
            }
            if (result == "Password strength is strong") {
                $('#result').attr({ 'style': 'color:Green;' });
            }


        })
        function passwordcheck() {
            $("#resetpassword").on("keyup", '#txtPassword,#txtConfirmPassword', function (t) {
                if ($('#txtPassword').val() == $('#txtConfirmPassword').val()) {
                    $('#message').html('Matching').css('color', 'green');
                } else
                    $('#message').html('Not Matching').css('color', 'red');
            });
        }
        function ResetPassword() {
            ID = $("#hfid").val();
            Password = $("#txtPassword").val();
            ConfirmPassword = $("#txtConfirmPassword").val();
            if (Password == "") {
                swal('Alert', 'Please Enter Password', 'error').then(function () { swal.close(); $('#txtPassword').focus(); });
            }
            else if (ConfirmPassword == "") {
                swal('Alert', 'Please Enter Confirm Password', 'error').then(function () { swal.close(); $('#txtConfirmPassword').focus(); });
            }
            else if (Password !== ConfirmPassword) {
                swal('Alert', 'Confirm Password is not matching.', 'error').then(function () { swal.close(); $('#txtConfirmPassword').focus(); });
            }
            else {
                var obj = {
                    ID: ID,
                    password: ConfirmPassword
                }
                $.ajax({
                    url: '/Home/Update_Password/', dataType: 'json', type: 'Post',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(obj),
                    dataType: "json",
                    success: function (data) {
                        if (data.status == true) {
                            //swal('Alert!', data.message, 'success');
                            swal('Success!', data.message, 'success').then((result) => { top.window.location.href = top.window.location.origin + '/Home/Login'; });
                            $("#resetpassword").modal("hide");
                            $("#userprofile").modal("show");
                        }
                        else {
                            swal('Alert!', data.message, 'error')
                        }
                    },
                    error: function (error) {
                        swal('Error!', 'something went wrong', 'error');
                    },
                })
            }
        }
    </script>

</body>
</html>
