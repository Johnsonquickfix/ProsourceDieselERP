
@{
    ViewBag.Title = "Product Rule";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@*datatables CSS*@
<link href="~/Content/AdminLTE-3.1.0/datatables/DataTables-1.10.20/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/AdminLTE-3.1.0/datatables/Buttons-1.6.1/css/buttons.dataTables.min.css" rel="stylesheet" />
@*datatables js*@
<script src="~/Content/AdminLTE-3.1.0/datatables/datatables.min.js" type="text/javascript"></script>
<script src="~/Content/AdminLTE-3.1.0/datatables/DataTables-1.10.20/js/dataTables.bootstrap.min.js" type="text/javascript"></script>

<div class="row">
    <div class="col-sm-6">
        <div class="box box-primary">
            <div class="box-body">
                <input type="hidden" id="hfid" />
                <input type="hidden" id="hfwarehouserule" />
                <input type="hidden" id="hfproductid" />
                <div class="form-group">
                    <label for="prefixcode">Prefix-Code<span style="color:red">*</span></label>
                    <input type="text" class="form-control" id="txtprefixcode" />
                </div>

                <div class="form-group">
                    <label for="ddlproduct">Products<span style="color:red">*</span></label>
                    <select class="form-control select2" id="ddlProduct" style="width:100%;"></select>
                </div>
                <div class="box-footer">
                    <a href="#" class="btn btn-danger" id="btnAddProduct"><b>Add</b></a>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-6" id="details">
        <div class="box box-primary">
            <div class="box-body">

                <div class="form-group">
                    <label for="vendor">Vendor<span style="color:red">*</span></label>
                    <select class="form-control select2" id="ddlvendor" style="width:100%;"></select>
                </div>

                <div class="form-group">
                    <label for="country">Country<span style="color:red"></span></label>
                    <input type="text" class="form-control" id="txtcountry" readonly />
                </div>

                <div class="form-group">
                    <label for="state">State<span style="color:red"></span></label>
                    <input type="text" class="form-control" id="txtstate" readonly />
                </div>

                <div class="form-group">
                    <label for="warehouse">Warehouse<span style="color:red">*</span></label>
                    <select class="form-control select2" id="ddlwarehouse" style="width:100%;"></select>
                </div>
                <div class="box-footer">
                    <a href="#" class="btn btn-danger" id="btnAdd"><b>Save</b></a> 
                    <a href="#" class="btn btn-danger" id="btnReset"><b>Reset</b></a>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-12">
        <div class="box box-primary">
            <div class="box-body">
                <table id="dtdata" class="table-blue table check-table table-bordered table-striped dataTable " width="100%">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Product</th>
                            <th>Prefix</th>
                            <th>Vendor</th>
                            <th>Warehouse</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                </table>

            </div>
        </div>
    </div>


</div>

<script>
    $(document).ready(function () {
        
        $(".select2").select2();
        setTimeout(function () { $(".select2").select2(); }, 2000);
        $("#details").hide();
        
        $("#btnReset").click(function () {
            enable1stCol();
            $("#details").hide(1000);
            $('#btnAddProduct').show();
            resetbtn();
        }); 

        $(document).on('click', "#btnAddProduct", function () {
            addProductWarehouseRule();
            disable1stCol();
            $("#details").show(1000);
            $('#btnAddProduct').hide();
            //getID();
        });

        $(document).on('click', "#btnAdd", function () {
            addProductWarehouseRuleDetails();
        });

    })
</script>


<script src="@Url.Content("~/js/Setup/productrule.js?v="+DateTime.Now.ToString("ddMMyyyymmss")+"")" asp-append-version="true"></script>