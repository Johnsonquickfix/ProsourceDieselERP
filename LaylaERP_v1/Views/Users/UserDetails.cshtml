@model dynamic
@{
    ViewBag.Title = "UserDetails";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="~/Scripts/jquery.js" type="text/javascript"></script>
<script src="~/Scripts/passwordStrengthMeter.js" type="text/javascript"></script>
<link href="~/Content/css/Style.css" rel="stylesheet" />
<div id="loader" class="d-flex align-items-center">
    <img src="data:image/gif;base64,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" align="">
    <span>&nbsp;&nbsp;Loading......</span>
</div>
<div class="page-title">
    <h2 class="page-heading">User Details</h2>
    <a class="btn btn-danger" href="Users"><span title="Click here to back to user's list" data-placement="bottom" data-toggle="tooltip">Back to List</span></a>
</div>
<div class="createuser-section section_wrapper">
    <div class="create-user-box">
        <div class="row">
            <div class="col-md-3">

                <!-- Profile Image -->
                <div class="box box-primary">
                    <div class="box-body box-profile">
                        <div class="user-box-profile">
                            <div class="add-profile">
                                <span class="edit-pic-profile">
                                    <input type="file" onchange="readURL(this);" name="file" id="file" class="inputfile" />
                                    <label id="btnPhotoLibrary" for="file"><i class="fa fa-edit"></i>Edit</label>
                                </span>

                                @if (Model.User_Image != System.DBNull.Value && (Model.User_Image.Length > 0 || Model.User_Image != null))
                                {
                                    <img runat="server" id="show_picture" class="profile-user-img img-responsive img-circle" src="data:image;base64,@System.Convert.ToBase64String(Model.User_Image)" alt="User profile picture">
                                }
                                else
                                {
                                    <img runat="server" id="show_picture" class="profile-user-img img-responsive img-circle" src="~/Images/userprofile2.png" alt="User profile picture">
                                }
                                <canvas style="visibility: hidden" id="canvas" width="50" height="50"></canvas>
                                <input runat="server" type="hidden" id="hidimage" /><input type="hidden" id="hidimagetype" />
                            </div>
                        </div>

                    </div>

                    @*<h3 class="profile-username text-center">Layla Sleep</h3>
                        <p class="text-muted text-center">laylasleep@acb.com</p>
                        <p class="text-center">Washington Dc</p>*@
                </div>
                <!-- /.box-body -->
            </div>

            <!-- /.col -->
            <div class="col-md-9">
                <div class="box box-primary create-user-primary">
                    <div class="box-header with-border">
                        <div class="col-sm-4">

                            <div class="form-group">
                                <input type="hidden" id="hfid" value="@Model.ID" />
                                <input type="hidden" id="hfzipstatus" />
                                <input type="hidden" id="hfState" value="@Model.State" />
                                <input type="hidden" id="hfCity" value="@Model.City" />
                                <label for="exampleInputEmail1">User Login Name<span style="color:red;"> *</span></label>
                                <input type="text" class="form-control" id="txtUserNickName" value="@Model.user_login" placeholder="Enter User Name">
                            </div>
                            <div class="form-group">
                                <label for="exampleInputEmail1">E-mail<span style="color:red;"> *</span></label>
                                <input type="text" class="form-control" value="@Model.user_email" id="txtUserEmail" placeholder="Enter Your Mail Address">
                            </div>
                            <div class="form-group">
                                <label for="exampleInputEmail1">First Name<span style="color:red;"> *</span></label>
                                <input type="text" class="form-control" value="@Model.first_name" id="txtFirstName" placeholder="First Name">
                            </div>
                            <div class="form-group">
                                <label for="exampleInputEmail1">Last Name<span style="color:red;"> *</span></label>
                                <input type="text" class="form-control" value="@Model.last_name" id="txtLastName" placeholder="Last Name">
                            </div>
                            <div class="form-group">
                                @{
                                    var selected = "";
                                    var selected1 = "";
                                    if (Model.user_status == 0)
                                    {
                                        selected = "selected=selected";
                                    }
                                    else
                                    {
                                        selected = "";
                                    }
                                    if (Model.user_status == 1)
                                    {
                                        selected1 = "selected=selected";
                                    }
                                    else
                                    {
                                        selected1 = "";
                                    }
                                }
                                <label for="exampleInputEmail1">User Status<span style="color:red;"> *</span></label>
                                <select class="form-control" id="ddlstatus">
                                    <option @selected value="0">Active</option>
                                    <option @selected1 value="1">InActive</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">

                                <label for="exampleInputEmail1">User Role<span style="color:red;"> *</span></label>
                                <input type="text" class="form-control" id="txtUserRole" value="@Model.user_role" placeholder="Role Name" readonly>
                                <!--the model has been written in the java script document ready-->
                            </div>


                            <div class="form-group">
                                <label for="exampleInputEmail1">Contact Number<span style="color:red;"> *</span></label>
                                <input type="text" class="form-control" id="txtPhone" value="@Model.phone" placeholder="Enter Your Phone Number">
                            </div>

                            <div class="form-group">
                                <img class="sb-title-icon" src="https://fonts.gstatic.com/s/i/googlematerialicons/location_pin/v5/24px.svg" alt="">
                                <label for="exampleInputEmail1">Address<span style="color:red;"> *</span> </label>

                                <input type="text" class="form-control" id="txtAddress" value="@Model.address" placeholder="Enter Your Address ">
                            </div>
                            <div class="form-group">
                                <label for="exampleInputEmail1">Address Line 2</label>
                                <input type="text" class="form-control" id="txtAddress2" value="@Model.address2" placeholder="Address Line 2">

                            </div>
                            @*<div class="form-group">
                                    <label for="exampleInputEmail1">City</label>
                                    <select class="form-control" id="txtCity">
                                        <option selected value="@Model.City">@Model.City </option>
                                    </select>

                                </div>*@

                            <div class="form-group">
                                <label for="exampleInputEmail1">City<span style="color:red;"> *</span></label>
                                <input type="text" class="form-control" id="txtCity" value="@Model.City">
                            </div>

                        </div>
                        <div class="col-sm-4">

                            <div class="form-group">
                                <label for="exampleInputEmail1">State<span style="color:red;"> *</span></label>
                                <select class="form-control" id="txtState">
                                    <option selected value="@Model.State">@Model.State</option>
                                </select>

                            </div>
                            @*<div class="form-group">
            <label for="exampleInputEmail1">State</label>
            <input type="text" class="form-control" id="txtState" value="@Model.State">
        </div>*@
                            <div class="form-group">
                                <label class="control-label" for="Zip Code">Zip Code<span style="color:red;"> *</span></label>
                                <div class="">
                                    <input type="text" id="txtPostCode" value="@Model.postcode" class="form-control" placeholder="Zip Code">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="exampleInputEmail1">Country<span style="color:red;"> *</span></label>
                                <select class="form-control select1" id="txtCountry">
                                    @*@{
                                        if (Model.country == "US")
                                        {
                                            <option selected value="US">US - United States</option>
                                            <option value="CA">CA - Canada</option>
                                        }
                                        else if (Model.country == "CA")
                                        {
                                            <option selected value="CA">CA - Canada</option>
                                            <option value="US">US - United States</option>
                                        }
                                        else if (Model.country == "")
                                        {
                                            <option selected value="US">US - United States</option>
                                            <option value="CA">CA - Canada</option>
                                        }
                                        else
                                        {
                                            <option selected value="US">US - United States</option>
                                            <option value="CA">CA - Canada</option>
                                        }
                                    }*@
                                    @if (Model.country == "US")
                                    {
                                        <option selected value="US">US - United States</option>
                                        <option value="CA">CA - Canada</option>
                                    }
                                    @if (Model.country == "CA")
                                    {
                                        <option selected value="CA">CA - Canada</option>
                                        <option value="US">US - United States</option>
                                    }
                                    @if (Model.country == "")
                                    {
                                        <option selected value="US">US - United States</option>
                                        <option value="CA">CA - Canada</option>
                                    }

                                </select>
                            </div>
                            <div id="divpassword">
                                <div class="form-group form-password-group">
                                    <label for="exampleInputEmail1">Password</label>
                                    <span><button type="button" id="btnGeneratePassword" class="btn" title="Click here to generate password" data-placement="bottom" data-toggle="tooltip">Generate Password</button></span>
                                    <input type="password" class="form-control" id="txtPassword" placeholder="Enter Your Password" autocomplete="off">
                                    @*<span class="genrate_password" id="message">Generate Password</span>*@
                                    <span class="" id='result'></span>
                                </div>

                                <div class="form-group form-password-group">
                                    <label for="exampleInputEmail1">Confirm Password</label>
                                    <i id="PasswordShow" class="glyphicon glyphicon-eye-open"></i>
                                    <input type="password" class="form-control" id="txtConfirmPassword" placeholder="Confirm Your Password" autocomplete="off">
                                    <span class="genrate_password" id="message"></span>
                                </div>

                            </div>
                            </div>
                        </div>
                    <div class="box-footer text-right">
                        <a href="javascript:void(0);" class="btn btn-danger" id="btnSave"><span title="Click here to update user's details" data-placement="left" data-toggle="tooltip"><b>Update User</b></span></a>                        
                    </div>
                </div>
                <!-- /.nav-tabs-custom -->
            </div>
            <!-- /.col -->
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $("#loader").hide();
        $('.select1').select2();
        $('#txtPassword').val('');
       // isEdit(true);
        //Code to remove repetation of words
        @*var string = '@Model.user_role';
        var uniqueList = string.split(',').filter(function (item, i, allItems) {
            return i == allItems.indexOf(item);
        }).join(',');
        $("#txtUserRole").val(uniqueList);

        console.log(uniqueList);*@

        //var user_type = string;
        //let val = string, txt = $(this).data('usertext');
        //    //console.log(val);
        //    // console.log(sValue);
        //    let i = sValue.toLowerCase().trim().indexOf(val);
        //    //let i = sValue.trim().indexOf(val);
        //    if (i > -1) user_type = (user_type.length > 0 ? user_type + ', ' : '') + txt;       
        // user_type.substring(0, user_type.length - 2);

        //console.log(user_type);








        //code end to remove repetation of words  divpassword
        if ('@Model.user_rolecurrent'.toUpperCase() == "ADMINISTRATOR") {

            if ('@Model.user_role' != 'Administrator')
                $("#divpassword").show();
            else
                $("#divpassword").hide();
        }
        else {
            $("#divpassword").hide();
        }
       // $('#txtUserRole').append(uniqueList);
        //document.getElementById('txtUserRole').value = uniqueList;
        //$.get('GetState', function (data) {
        //    var st = $("#hfState").val();
        //    $.each(data, function (index, value) {
        //        if (st == value)
        //            $('<option selected>').val(value).text(value).appendTo("#txtState");
        //        else
        //            $('<option>').val(value).text(value).appendTo("#txtState");
        //    })
        //})

        /* $("#txtCity").select2({

             allowClear: true, minimumInputLength: 3, placeholder: "Search City",
             ajax: {
                 url: '/Users/GetCity', type: "POST", contentType: "application/json; charset=utf-8", dataType: 'json', delay: 250,
                 data: function (params) { var obj = { strValue1: params.term }; return JSON.stringify(obj); },
                 processResults: function (data) {
                     var jobj = JSON.parse(data);
                     $("#txtCity").empty().append('<option value="' + data[0].City + '" selected>' + data[0].City + '</option>');
                     return { results: $.map(jobj, function (item) { return { text: item.City, name: item.City, id: item.City } }) };

                 },
                 error: function (xhr, status, err) { }, cache: true
             }
         }); */

        //$.get('GetCity', function (data) {
        //    var Ct = $("#hfCity").val();
        //    $.each(data, function (index, value) {
        //        if (Ct == value)
        //            $('<option selected>').val(value).text(value).appendTo("#txtCity");

        //    })
        //})

       /* $(document).on('change', "#txtCountry", function () {
            $('#txtAddress').val("");
            $("#txtAddress2").val("");
            $("#txtCity").val("");
            $("#txtPostCode").val("");
            $("#txtState").val(null).trigger('change');
        }); */

        $("#txtState").select2({
            //allowClear: true, minimumInputLength: 3, placeholder: "Search State",
            //ajax: {
            //    url: '/Users/GetState', type: "POST", contentType: "application/json; charset=utf-8", dataType: 'json', delay: 250,
            //    data: function (params) { var obj = { strValue1: params.term }; return JSON.stringify(obj); },
            //    processResults: function (data) { var jobj = JSON.parse(data); return { results: $.map(jobj, function (item) { return { text: item.StateFullName, name: item.StateFullName, id: item.StateFullName } }) }; },
            //    error: function (xhr, status, err) { }, cache: true
            //}

            allowClear: true, minimumInputLength: 2, placeholder: "Search State",
            ajax: {
                url: '/Users/GetCustState', type: "POST", contentType: "application/json; charset=utf-8", dataType: 'json', delay: 250,
                data: function (params) {
                    var obj = { strValue1: params.term, strValue2: $("#txtCountry").val() };
                    return JSON.stringify(obj);
                },
                processResults: function (data) {
                    var jobj = JSON.parse(data);
                    //console.log(jobj);
                    return {
                        results: $.map(jobj, function (item) {
                            return { text: item.StateFullName, name: item.StateFullName, id: item.StateFullName }
                        })
                    };
                },
                error: function (xhr, status, err) { }, cache: true
            }
        });

        //$.get('GetState', function (data) {
        //    var st = $("#hfState").val();
        //    $.each(data, function (index, value) {
        //        if (st == value)
        //            $('<option selected>').val(value).text(value).appendTo("#txtState");

        //    })
        //})

        $(document).on('click', "#btnSave", function () {
            AddCustomer();
        })

        $(document).on('click', "#PasswordShow", function () {
            if ($('#txtPassword').val() == "")
                swal('Alert', 'Password is not generated!', 'error');
            else
                swal('Alert', 'Password is ' + $('#txtPassword').val() + '', 'success');

        })


        $(document).on('click', "#btnGeneratePassword", function () {
            $("#txtPassword").val("");
            $("#txtConfirmPassword").val("");
            Password = $("#txtPassword").val();
            var obj = {
                password: Password,
            }
            $.ajax({
                url: '/Users/CreatePassword/', dataType: 'json', type: 'Post',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(obj),
                dataType: "json",
                success: function (data) {
                    if (data.status == true) {
                        $('#txtPassword').val(data.message);
                        $('#txtConfirmPassword').val(data.message);
                        $('#hfvpassordshow').val(data.message);
                        $("#txtPassword").change();
                        if ($('#txtPassword').val().trim() == $('#txtConfirmPassword').val().trim()) {
                            $('#message').html('Matching').css('color', 'green');
                        } else
                            $('#message').html('Not Matching').css('color', 'red');
                    }
                    else {
                        $("#txtPassword").val("");
                        $("#txtConfirmPassword").val("");
                        //swal('Alert', 'Post zip code is not  valid for City and State', 'error').then(function () { swal.close(); $('#txtPostCode').focus(); });
                    }
                },

                error: function (error) {
                    swal('Error!', 'something went wrong', 'error');
                },
            })
        });

        $('#txtState').change(function () {
            if ($("#txtPostCode").val() != '') {
                City = $("#txtCity").val();
                State = $("#txtState").val();
                PostalCode = $("#txtPostCode").val();
                countryval = $("#txtCountry").val();
                var obj = {
                    billing_state: State,
                    billing_city: City,
                    billing_postcode: PostalCode,
                    country: countryval
                }
                $.ajax({
                    url: '/Users/CityStateZip/', dataType: 'json', type: 'Post',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(obj),
                    dataType: "json",
                    success: function (data) {
                        if (data.status == true) {
                            //swal('Alert!', 'Post zip code is valid for City and State', 'success')
                            // $('#hfzipstatus').val(data.status);
                            $('#hfzipstatus').val(data.status);
                           // console.log("stTE", data.status);

                        }
                        else {
                            if ($('#txtCountry').val() == "US") {
                                $("#txtPostCode").val("");
                                $('#hfzipstatus').val(data.status);
                                swal('Alert', 'Zip code is not valid for the State', 'error').then(function () { swal.close(); $('#txtPostCode').focus(); });
                            }
                            if ($('#txtCountry').val() == "CA") {
                                $('#hfzipstatus').val("true");
                            }
                        }
                    },

                    error: function (error) {
                        swal('Error!', 'something went wrong', 'error');
                    },
                })
            }
        });

        $('#txtPostCode').change(function () {

            City = $("#txtCity").val();
            State = $("#txtState").val();
            PostalCode = $("#txtPostCode").val();
            countryval = $("#txtCountry").val();
            var obj = {
                billing_state: State,
                billing_city: City,
                billing_postcode: PostalCode,
                country: countryval
            }
            $.ajax({
                url: '/Users/CityStateZip/', dataType: 'json', type: 'Post',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(obj),
                dataType: "json",
                success: function (data) {
                    if (data.status == true) {
                        // swal('Alert!', 'Post zip code is valid for City and State', 'success')
                        // $('#hfzipstatus').val(data.status);
                        $('#hfzipstatus').val(data.status);
                       // console.log("CIty", data.status);
                    }
                    else {
                        if ($('#txtCountry').val() == "US") {
                            $("#txtPostCode").val("");
                            $('#hfzipstatus').val(data.status);
                            swal('Alert', 'Zip code is not valid for the State', 'error').then(function () { swal.close(); $('#txtPostCode').focus(); });
                        }
                        if ($('#txtCountry').val() == "CA") {
                            $('#hfzipstatus').val("true");
                        }
                    }
                },

                error: function (error) {
                    swal('Error!', 'something went wrong', 'error');
                },
            })
        });
        $("#btnPhotoLibrary").click(function () {
            $("#hidimage").val('');
            $("#hidimagetype").val('2');
        });

        $('#txtUserNickName').change(function () {

            UserName = $("#txtUserNickName").val();
            var obj = {
                user_nicename: UserName
            }
            $.ajax({
                url: '/Users/GetUserName/', dataType: 'json', type: 'Post',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(obj),
                dataType: "json",
                success: function (data) {
                    if (data.status == false) {

                    }
                    else {
                        $("#txtUserNickName").val("");
                        swal('Alert', 'User name is already exists ', 'error').then(function () { swal.close(); $('#txtUserNickName').focus(); });
                    }
                },

                error: function (error) {
                    swal('Error!', 'something went wrong', 'error');
                },
            })
        });

        $('#txtUserEmail').change(function () {

            var emailReg = /^([\w-\.]+@@([\w-]+\.)+[\w-]{2,4})?$/;
            var emailaddressVal = $("#txtUserEmail").val();
            if (!emailReg.test(emailaddressVal)) {
                $("#txtUserEmail").val('');
                swal('Alert', 'Is not a valid email', 'error').then(function () { swal.close(); $('#txtUserEmail').focus(); });
            }
            else {

                email = $("#txtUserEmail").val();
                var obj = {
                    user_email: email
                }
                $.ajax({
                    url: '/Users/GetEmailName/', dataType: 'json', type: 'Post',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(obj),
                    dataType: "json",
                    success: function (data) {
                        if (data.status == false) {

                        }
                        else {
                            $("#txtUserEmail").val("");
                            swal('Alert', 'User email is already exists ', 'error').then(function () { swal.close(); $('#txtUserEmail').focus(); });
                        }
                    },

                    error: function (error) {
                        swal('Error!', 'something went wrong', 'error');
                    },
                })
            }

        });

        passwordcheck();
        isEdit(true);

        $("#txtPostCode").change();
    });

    function isEdit(val) {
        localStorage.setItem('isEdit', val ? 'yes' : 'no');
    }
    $('#txtPassword').val('');

    $("#txtPassword").change(function () {
        $('#result').html(passwordStrength($('#txtPassword').val(), ""))
        result = $('#result').html();
        if (result == "Password strength is weak") {
            $('#result').attr({ 'style': 'color:Red;' });

        }
        if (result == "Password Strength is low") {
            $('#result').attr({ 'style': 'color:Olive;' });
        }
        if (result == "Password strength is medium") {
            $('#result').attr({ 'style': 'color:Lime;' });
        }
        if (result == "Password strength is strong") {
            $('#result').attr({ 'style': 'color:Green;' });
        }
        Password = $("#txtPassword").val();
        strength = 1;
        var arr = [/.{5,}/, /[a-z]+/, /[0-9]+/, /[A-Z]+/];
        jQuery.map(arr, function (regexp) {
            if (Password.match(regexp))
                strength++;
        });

    })
    $("#txtPassword").on("input", function () {
        $('#result').html(passwordStrength($('#txtPassword').val(), ""))
        result = $('#result').html();
        if (result == "Password strength is weak") {
            $('#result').attr({ 'style': 'color:Red;' });

        }
        if (result == "Password Strength is low") {
            $('#result').attr({ 'style': 'color:Olive;' });
        }
        if (result == "Password strength is medium") {
            $('#result').attr({ 'style': 'color:Lime;' });
        }
        if (result == "Password strength is strong") {
            $('#result').attr({ 'style': 'color:Green;' });
        }
        Password = $("#txtPassword").val();
        strength = 1;
        var arr = [/.{5,}/, /[a-z]+/, /[0-9]+/, /[A-Z]+/];
        jQuery.map(arr, function (regexp) {
            if (Password.match(regexp))
                strength++;
        });

    })
    function getAllUserType(sValue) {
        if (sValue != null) {
            var user_type = '';
            $('.subsubsub li').each(function (index) {
                let val = $(this).data('uservalue'), txt = $(this).data('usertext');
                //console.log(val);
                // console.log(sValue);
                let i = sValue.toLowerCase().trim().indexOf(val);
                //let i = sValue.trim().indexOf(val);
                if (i > -1) user_type = (user_type.length > 0 ? user_type + ', ' : '') + txt;
            });
            return user_type.substring(0, user_type.length - 2);
        }
        else
            return '';
    }

    function AddCustomer() {
        debugger
        var ImageURL;
        var canvas = document.createElement('canvas');
        var objimg = document.getElementById('show_picture');
        canvas.width = objimg.width;
        canvas.height = objimg.height;
        var ctx = canvas.getContext('2d').drawImage(objimg, 0, 0, canvas.width, canvas.height);
        var can = document.getElementById('canvas');
        ImageType = "jpeg";
        var img = canvas.toDataURL("image/jpeg", 30 / 100);
        var result_image_obj = new Image();
        result_image_obj.src = img;
        $("#show_picture").attr("src", result_image_obj.src);
        ImageURL = result_image_obj.src;
        var block = ImageURL.split(";");
        var realData = block[1].split(",")[1];
        $("#hidimage").val(realData);


        Picture = $("#hidimage").val();
        ID = $("#hfid").val();
        Email = $("#txtUserEmail").val();
        NickName = $("#txtUserNickName").val();
        FirstName = $("#txtFirstName").val();
        LastName = $("#txtLastName").val();
        address = $("#txtAddress").val();
        country = $("#txtCountry").val();
        UserRole = $("#txtUserRole").val();
        Phone = $("#txtPhone").val();
        Zipcode = $("#txtPostCode").val();
        City = $("#txtCity").val();
        State = $("#txtState").val();
        address2 = $("#txtAddress2").val();
        user_status = $("#ddlstatus").val();
        Password = $("#txtPassword").val();
        ConfirmPassword = $("#txtConfirmPassword").val();



        if (NickName == "") {
            swal('Alert', 'Please enter user name', 'error').then(function () { swal.close(); $('#txtUserNickName').focus(); });
        }
        else if (Email == "") {
            swal('Alert', 'Please enter email', 'error').then(function () { swal.close(); $('#txtUserEmail').focus(); });
        }
        else if (FirstName == "") {
            swal('Alert', 'Please enter first name', 'error').then(function () { swal.close(); $('#txtFirstName').focus(); });
        }
        else if (LastName == "") {
            swal('Alert', 'Please enter last name', 'error').then(function () { swal.close(); $('#txtLastName').focus(); });
        }
        else if ($('#txtUserRole').val() == 0) {
            swal('Alert', 'Please select user type', 'error').then(function () { swal.close(); $('#txtUserRole').focus(); });
        }
        else if (Phone == "") {
            swal('Alert', 'Please enter contact no.', 'error').then(function () { swal.close(); $('#txtPhone').focus(); });
        }
        else if (address == "") {
            swal('Alert', 'Please enter address ', 'error').then(function () { swal.close(); $('#txtAddress').focus(); });
        }

        else if ($('#txtCity').val() == 0) {
            swal('Alert', 'Please select city', 'error').then(function () { swal.close(); $('#txtCity').focus(); });
        }
        else if ($('#txtState').val() == 0) {
            swal('Alert', 'Please select state', 'error').then(function () { swal.close(); $('#txtState').focus(); });
        }
        else if (Zipcode == "") {
            swal('Alert', 'Please enter zip code', 'error').then(function () { swal.close(); $('#txtPostCode').focus(); });
        }
        else if ($('#txtCountry').val() == 0) {
            swal('Alert', 'Please select country', 'error').then(function () { swal.close(); $('#txtCountry').focus(); });
        }
        else if (Password != "") {
            if (Password.length < 8) {
                swal('Alert', 'Passwords must be 8 characters.', 'error').then(function () { swal.close(); $('#txtPassword').focus(); });
            }
            else if (strength < 5) {
                swal('Alert', 'Passwords must be have number, one special and one capital characters.', 'error').then(function () { swal.close(); $('#txtPassword').focus(); });
            }
            else if (ConfirmPassword == "") {
                console.log(strength);
                swal('Alert', 'Please enter confirm password', 'error').then(function () { swal.close(); $('#txtConfirmPassword').focus(); });
            }
            else if (Password !== ConfirmPassword) {
                swal('Alert', 'Confirm password is not matching.', 'error').then(function () { swal.close(); $('#txtConfirmPassword').focus(); });
            }
            else {
                $("#txtPostCode").change();
                if ($("#hfzipstatus").val() == "true") {
                    var obj = {
                        ID: ID,
                        user_email: Email,
                        user_nicename: NickName,
                        first_name: FirstName,
                        last_name: LastName,
                        address: address,
                        country: country,
                        phone: Phone,
                        user_role: UserRole,
                        User_Image: Picture,
                        billing_postcode: Zipcode,
                        billing_state: State,
                        billing_city: City,
                        billing_address_2: address2,
                        user_status: user_status,
                        password: ConfirmPassword,
                    }
                    $.ajax({
                        url: '/Users/UpdateUser/', dataType: 'json', type: 'Post',
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify(obj),
                        dataType: "json",
                        beforeSend: function () { $("#loader").show(); },
                        success: function (data) {
                            if (data.status == true) {
                                //swal('Alert!', data.message, 'success').then((result) => { location.href = 'Users'; });
                                swal('Success!', data.message, 'success').then((result) => { location.href = 'Users'; });
                            }
                            else {
                                swal('Alert!', data.message, 'error');
                            }
                        },
                        complete: function () { $("#loader").hide(); isEdit(false); },
                        error: function (error) { swal('Error!', 'something went wrong', 'error'); },
                    })
                }
            }
        }

        else {
            $("#txtPostCode").change();
            if ($("#hfzipstatus").val() == "true") {
                var obj = {
                    ID: ID,
                    user_email: Email,
                    user_nicename: NickName,
                    first_name: FirstName,
                    last_name: LastName,
                    address: address,
                    country: country,
                    phone: Phone,
                    user_role: UserRole,
                    User_Image: Picture,
                    billing_postcode: Zipcode,
                    billing_state: State,
                    billing_city: City,
                    billing_address_2: address2,
                    user_status: user_status,
                    password: ConfirmPassword,
                }
                $.ajax({
                    url: '/Users/UpdateUser/', dataType: 'json', type: 'Post',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(obj),
                    dataType: "json",
                    beforeSend: function () { $("#loader").show(); },
                    success: function (data) {
                        if (data.status == true) {
                            //swal('Alert!', data.message, 'success').then((result) => { location.href = 'Users'; });
                            swal('Success!', data.message, 'success').then((result) => { location.href = 'Users'; });
                        }
                        else {
                            swal('Alert!', data.message, 'error');
                        }
                    },
                    complete: function () { $("#loader").hide(); isEdit(false); },
                    error: function (error) { swal('Error!', 'something went wrong', 'error'); },
                })

            }
        }

    }

    function getdatabyzip() {
        var BillingPostcode = $("#txtPostCode").val();
        $.ajax({
            url: "https://ziptasticapi.com/" + BillingPostcode,
            type: "GET",
            dataType: 'JSON',
            data: [],
            success: function (data) {
                /*    $("#txtCountry").val(data.country);*/
                $("#txtState").val(data.state);
                $("#txtCity").val(data.city);
            },
            error: function (msg) { alert(msg); }
        });

    }

    document.getElementById('txtPhone').addEventListener('keyup', function (evt) {
        var phoneNumber = document.getElementById('txtPhone');
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        phoneNumber.value = phoneFormat(phoneNumber.value);
    });


    function phoneFormat(input) {
        input = input.replace(/\D/g, '');
        input = input.substring(0, 10);
        var size = input.length;
        if (size == 0) {
            input = input;
        } else if (size < 4) {
            input = '(' + input;
        } else if (size < 7) {
            input = '(' + input.substring(0, 3) + ') ' + input.substring(3, 6);
        } else {
            input = '(' + input.substring(0, 3) + ') ' + input.substring(3, 6) + ' - ' + input.substring(6, 10);
        }
        return input;
    }
    function passwordcheck() {
        $('#txtPassword, #txtConfirmPassword').on('keyup', function () {
            
            if ($('#txtPassword').val().trim() == $('#txtConfirmPassword').val().trim()) {
                $('#message').html('Matching').css('color', 'green');
            } else
                $('#message').html('Not Matching').css('color', 'red');
        });
    }

    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#show_picture').attr('src', e.target.result);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }


    $(window).on("load", function () {
        // Handler for .load() called.
        $('#txtPassword').val('');
        //$('#txtUserNickName').val('');
        //$('#txtUserEmail').val('');
        // alert("window2 is loaded");
    });

</script>



<script>
    function initMap() {
        let address1Field = document.querySelector("#txtAddress");
        // Create the autocomplete object, restricting the search predictions to
        // addresses in the US and Canada.
        autocomplete = new google.maps.places.Autocomplete(address1Field, {
            componentRestrictions: { country: ["us", "ca"] },
            fields: ["address_components", "geometry"],
            types: ["address"],
        });
        // When the user selects an address from the drop-down, populate the
        // address fields in the form.
        autocomplete.addListener("place_changed", fillInAddress);

        function fillInAddress() {
            const place = autocomplete.getPlace();
            //console.log(place);
            let address = '';
            let obj = place.address_components.filter(element => element.types[0] == 'street_number');
            if (obj.length > 0)
                address = obj[0].long_name;
            obj = place.address_components.filter(element => element.types[0] == 'route');
            if (obj.length > 0)
                address = address + ' ' + obj[0].long_name;
            $("#txtAddress").val(address);
            obj = place.address_components.filter(element => element.types[0] == 'locality');
            if (obj.length > 0)
                $("#txtCity").val(obj[0].long_name);
            else
                $("#txtCity").val('');
            obj = place.address_components.filter(element => element.types[0] == 'postal_code');
            if (obj.length > 0)
                $("#txtPostCode").val(obj[0].long_name);
            else
                $("#txtPostCode").val('');
            obj = place.address_components.filter(element => element.types[0] == 'administrative_area_level_1');
            
            if (obj.length > 0)
                $("#txtState").empty().append('<option value="' + obj[0].short_name + '" selected>' + obj[0].long_name + '</option>');
            else
                $("#txtState").empty();

            obj = place.address_components.filter(element => element.types[0] == 'country');
            if (obj.length > 0)
                $('#txtCountry').val(obj[0].short_name.trim()).trigger('change'); //$("#txtBillingCountry").val(obj[0].short_name + ' - ' + obj[0].long_name);
            else
                $("#txtCountry").empty();


        }

        function renderAddress(place) {
            //map.setCenter(place.geometry.location);
            //marker.setPosition(place.geometry.location);
            //marker.setVisible(true);
        }
    }
</script>
<script>
    $('#txtCountry').on('select2:select', function (e) {
        $('#txtAddress').val("");
        $("#txtAddress2").val("");
        $("#txtCity").val("");
        $("#txtPostCode").val("");
        $("#txtState").val(null).trigger('change');
    });
</script>
<!--Google Place API -->
@*<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB9Y-aA-ZqG-WWi_48LPwYw2UZPc61I6Sc&libraries=places&callback=initMap&channel=GMPSB_addressselection_v1_cABC" async defer></script>*@
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB9Y-aA-ZqG-WWi_48LPwYw2UZPc61I6Sc&libraries&callback=initMap&libraries=places&v=weekly" async></script>